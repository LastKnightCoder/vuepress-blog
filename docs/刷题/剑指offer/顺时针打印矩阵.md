---
title: 顺时针打印矩阵
author: 熊滔
category: 剑指offer
---

> 题目：输入一个矩阵，按照从外向里以顺时针的顺序依次打印出每一个数字。例如输入如下矩阵：
>
> 
> <img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006220952.svg"/>
> 
>
> 则依次打印出 `1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10`。

首先我们可以把一个矩阵看做是一个个圈组成的


<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006221018.svg"/>


我们每次都打印矩阵的一个圈，我们定义左上角的坐标为 `(start, start)`，比如第一圈的左上角坐标为 `(0, 0)`，打印完一圈之后，左上角的横、纵坐标加一，那什么时候结束打印呢


<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006221032.svg"/>


从上图可以知道，当
$$
\begin{aligned}
rows - start * 2 &> 0 \\\\
columns - start * 2 &> 0
\end{aligned}
$$
时才要继续打印，所以初步的代码如下

```java
public static void printMatrixClockwisely(int[][] matrix) {
    if (matrix == null || matrix.length == 0) {
        return;
    }
    if (matrix.length != 0) {
        if (matrix[0].length == 0) {
            return;
        }
    }
    // start表示左上角坐标
    int start = 0;
    // 获得行数和列数
    int rows = matrix.length;
    int columns = matrix[0].length;
    // 上面分析过的判断条件
    while (rows > start * 2 && columns > start * 2) {
        // 打印圈
        printCircle(matrix, start);
        // 左上角移动
        start++;
    }
}
```

下面就是如何打印圈的代码了

```java
private static void printCircle(int[][] matrix, int start) {
    int rows = matrix.length;
    int columns = matrix[0].length;
    // 要打印圈的末尾横坐标
    int endX = columns - 1 - start;
    // 要打印圈的末尾纵坐标
    int endY = rows - 1 - start;
    // 打印圈的上行
    for (int i = start; i <= endX; i++) {
        System.out.print(matrix[start][i]);
    }
    
    // 打印圈的右列
    for (int i = start + 1; i <= endY; i++) {
        System.out.print(matrix[i][endX]);
    }
    
    // 首先判断圈是否有两行，有的话打印下行
    if (endY > start) {
        for (int i = endX - 1; i >= start; i--) {
            System.out.print(matrix[endY][i]);
        }
    }
    
    // 判断圈是否有两列，有的话打印左列
    if (endX > start) {
        for (int i = endY - 1; i >= start + 1; i--) {
            System.out.print(matrix[i][start]);
        }
    }   
}
```

<Disqus />