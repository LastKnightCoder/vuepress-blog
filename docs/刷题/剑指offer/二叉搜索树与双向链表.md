---
title: 二叉搜索树与双向链表
author: 熊滔
category: 剑指offer
---

> 题目：输入一棵二叉搜索树，将该二叉搜索树转换成一个排序的双向链表。要求不能创建任何新的节点，只能调整树中节点指针的指向。比如，输入下面左图的二叉搜索树，则输出右边排序的双向链表
>
> 
> <img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006281612.svg"/>
> 
>
> 二叉树节点的定义如下：
>
> ```java
> private static class BinaryTreeNode {
>      BinaryTreeNode left;
>      BinaryTreeNode right;
>      int value;
>      public BinaryTreeNode(int value) {
>            this.value = value;
>            this.left = null;
>            this.right = null;
>      }
> }
> ```

对于二叉搜索树来说，它的中序遍历即是排序的结果，所以我们应当中序遍历该树，同时为了与之间的节点连接，我们应当使用一个变量保存之前的一个节点

```java
public static BinaryTreeNode convert(BinaryTreeNode root) {
    // 前一个节点，初始为 null
    BinaryTreeNode preNode = null;
    convert(root, preNode);
    // 获得双向链表的头结点
    BinaryTreeNode convertRoot = preNode;
    while (convertRoot.left != null && convertRoot != null) {
        convertRoot = convertRoot.left;
    }
    return convertRoot;
}
private static void convert(BinaryTreeNode root, BinaryTreeNode preNode) {
    if (root == null) {
        return;
    }
    // 中序遍历该树
    BinaryTreeNode cur = root;
    if (cur.left != null) {
        convert(cur.left, preNode);
    }
    // 当前节点的左孩子指向前一个节点
    cur.left = preNode;
    if (preNode != null) {
        // 前一个节点的右孩子指向当前节点
        preNode.right = cur;
    }
    // 更新前一个节点
    preNode = cur;
    if (cur.right != null) {
        convert(cur.right, preNode);
    }
}
```

<Disqus />