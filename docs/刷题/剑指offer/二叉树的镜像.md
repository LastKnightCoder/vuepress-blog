---
title: 二叉树的镜像
author: 熊滔
category: 剑指offer
---

> 题目：请完成一个函数，输入一棵二叉树，该函数输出它的镜像。二叉树节点的定义如下：
>
> ```java
> private static class BinaryTreeNode {
>        private BinaryTreeNode left;
>        private BinaryTreeNode right;
>        int value;
>        public BinaryTreeNode(int value) {
>            this.left = null;
>            this.right = null;
>            this.value = value;
>        }
> }
> ```

镜像对大家来说应该是一个比较陌生的概念，为了理解这个概念，我们画出一棵树和它的镜像

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006211922.svg"/>

可见这两棵树是左右对称的，就像是在照镜子一样。那么镜像二叉树与原来的二叉树有什么特点? 对于根节点来说，它的左右子树的位置进行了交换，对于左右子树来说，他们的左右子树也是进行了交换，所以使用递归不难写出这样的程序

```java
public static BinaryTreeNode mirrorTree(BinaryTreeNode root) {
    if (root == null) {
        return null;
    }
    // 左右子树进行交换
    BinaryTreeNode temp = root.left;
    root.left = root.right;
    root.right = temp;
    // 对左右子树也进行镜像操作
    if (root.left != null) {
        root.left = mirrorTree(root.left);
    }
    if (root.right != null) {
        root.right = mirrorTree(root.right);
    }
    return root;
}
```

> 请实现一个函数，用来判断一棵二叉树是不是对称的。如果一棵二叉树和它的镜像一样，那么它是对称的。

一棵树如果它是对称的，那么它的左子树和右子树是对称的，所以我们判断一棵树是否对称，只需要判断这棵树的左子树和右子树是否对称。为了简单起见，我们将这棵树复制一份一样的树，我们比较这两棵树是否对称

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006212151.svg"/>

如果这两棵树是对称的，那么它们的根节点的值相同，并且第一棵树的左子树与另一棵树的右子树是对称的，右子树与左子树是对称的

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006212213.svg"/>


而比较左右子树是否对称的问题，又是重复上面的过程，比较它们根节点的值以及各自的左子树与右子树是否对称

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/202006212216.svg"/>


我们可以使用递归来解决这个问题

```java
public static boolean isSymmetrical(BinaryTreeNode root) {
    return isSymmetrical(root, root);
}
private static boolean isSymmetrical(BinaryTreeNode root1, BinaryTreeNode root2) {
    if (root1 == null && root2 == null) {
        return true;
    }
    if (root1 == null || root2 == null) {
        return false;
    }
    if (root1.value != root2.value) { 
        return false;
    }
    // 两棵树的左子树与右子树、右子树与左子树是否对称
    return isSymmetrical(root1.left, root2.right) && isSymmetrical(root1.right, root2.left);
}
```

<Disqus />