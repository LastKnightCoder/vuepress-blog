<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vuex | Coder</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <link rel="manifest" href="/vuepress-blog/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="操千曲而后晓声，观千剑而后识器">
    <meta property="og:url" content="/vuepress-blog/Vue/Vuex.html">
    <meta property="og:site_name" content="Coder">
    <meta property="og:title" content="Vuex">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Coder">
    <meta property="article:author" content="熊滔">
    <meta property="article:published_time" content="2021-04-05T00:00:00.000Z">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/vuepress-blog/assets/css/0.styles.8bd9bab4.css" as="style"><link rel="preload" href="/vuepress-blog/assets/js/app.71139a4d.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/layout-Layout.738d33c5.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.4f33077f.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.3a32e6fa.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/vendors~layout-Blog~layout-Layout.6d699834.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/page-Vuex.fa491068.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js/270.a41cbe98.js"><link rel="prefetch" href="/vuepress-blog/assets/js/271.4369f227.js"><link rel="prefetch" href="/vuepress-blog/assets/js/272.70ba4183.js"><link rel="prefetch" href="/vuepress-blog/assets/js/273.52f9276c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/274.9e7fc17a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/275.55040b55.js"><link rel="prefetch" href="/vuepress-blog/assets/js/276.4f3f54af.js"><link rel="prefetch" href="/vuepress-blog/assets/js/277.78fdb34a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/278.d98d27a3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/279.0a516ad7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/280.6531278b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/281.e4b79378.js"><link rel="prefetch" href="/vuepress-blog/assets/js/282.3aac6c5f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/283.5c068251.js"><link rel="prefetch" href="/vuepress-blog/assets/js/284.f5e1e411.js"><link rel="prefetch" href="/vuepress-blog/assets/js/285.062798d9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/286.8f33fb1a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/287.0fa01cb7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/288.cfd36199.js"><link rel="prefetch" href="/vuepress-blog/assets/js/289.3878c798.js"><link rel="prefetch" href="/vuepress-blog/assets/js/290.d1a40dbb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/291.a3ab31b6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/292.301437eb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/293.017f5aa8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/294.83911958.js"><link rel="prefetch" href="/vuepress-blog/assets/js/295.80d962ba.js"><link rel="prefetch" href="/vuepress-blog/assets/js/296.96c522ee.js"><link rel="prefetch" href="/vuepress-blog/assets/js/297.fd0e56e4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/298.138e2a24.js"><link rel="prefetch" href="/vuepress-blog/assets/js/299.c7e2e51c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/300.712ba098.js"><link rel="prefetch" href="/vuepress-blog/assets/js/301.d01f666a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/302.ef181b93.js"><link rel="prefetch" href="/vuepress-blog/assets/js/303.08025cea.js"><link rel="prefetch" href="/vuepress-blog/assets/js/304.6cfc1d6d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/layout-Blog.c9d9bd4c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/layout-NotFound.394f5d4f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/layout-Slide.c0e30388.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--093d8aac.299b54f9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--170dac22.54a9af50.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--2132c229.92edc2a1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--2449b2e6.76a1cb18.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--2a865898.f31e3564.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--344860a8.cd3683a8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--356d3bdc.ffb88978.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--392f9e3a.f2cec008.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--3943bf18.598b900c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--3ef11e7e.fc0b8bb1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--3fe0d74a.6a622baa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--3feda75e.fd465ab6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--43448b9f.532257a6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--471c5114.10f37593.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--526adde0.f16169c2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--619b0b4b.2da7d1c0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--64686281.b29c1746.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--65fedeb4.b472af8a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--6beedc7d.d162aa90.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--6fa4a2ac.35547128.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--75c33144.4f317ca8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--cb665f30.ee62d45c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--d302a9f6.be953786.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--d6c1ccd4.e8f85b9a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--d7dc7840.32cfe014.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page--dc82af9c.f4dac0e8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-1~n整数中1出现的次数.ca78ddaa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-AVL树.a61a8e81.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-CSS介绍.a0677dac.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-DDL.d4f33b29.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-DFT变换的性质.afa6175d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-DML.f5181bcc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-DQL.faaa1ca3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-DTFT.6d5734c4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-ES6.f5a9991f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-FFT及其框图实现.d5bfe94f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-HTML.637666ba.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-HTML简介.9ab1b3ee.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Home.07119d51.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-JDBC.1732a367.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java8新特性.80a62ef0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-JavaEE.a6ac527c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-JavaSE.a0f4ef47.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-JavaScript.b836f488.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-JavaScript中的冒泡与捕获.b85c8e51.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-JavaScript中的类.f12b2c44.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-JavaScript的作用域.a098bbb6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java反射.3a461679.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java基础知识介绍.d50ec2ce.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java多线程.49764598.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java常用API.0cea440a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java开发环境搭建.a639a37a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java异常.25ceef48.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java文件操作.b1d2bb5c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java注解.7d8048d0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java网络编程.c245778e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java集合与泛型.7c173e59.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Java面向对象.72bf3b1d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-MyBatis学习入门.783ece12.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-MySQL.5aedb5eb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-MySQL基本概念.e82e01a5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Node.1dbda98b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之Buffer.97eeed01.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之EventEmitter.84d527c3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之Express入门.24ac46a8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之HTTP.c03b6070.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之Koa.b4cbebd1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之MongoDB.1dffe6ea.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之Stream.0f100d3a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之事件循环.2be41ab6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之操作系统.db4d2c46.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之文件系统.63f7af2c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之模块系统.4e9a2006.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Nodejs之路径.54a0cc86.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Pow(x,n).21a25de7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Promise与异步编程.64c0f945.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Promise的使用.79390b86.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Proxy和Reflect.7db43834.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-SSM整合.328d0b6a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Set集合与Map集合.3e788c6b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-SpringBoot入门.37f0bfdd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-SpringMVC入门.3871d537.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Spring入门.5fd353be.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Spring常见注解.0152daaf.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Symbol和Symbol属性.e82c1ba1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Trie.05684790.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-TypeScript.d25e57e0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-VueRouter.79770646.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Vuejs入门.38d2e3f9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Vue带来的开发思维的改变.2ea308ad.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Vue目录.5510b027.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Z变换.c48a326b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-Z变换解差分方程的思考.0f1ca0c3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-div和span.a08e984c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-let和const.c5d0d46d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-n个骰子的点数.d8100e34.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-vue-cli的使用.278eb309.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-x的平方根.c417c46f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-三大范式.a86510aa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-三数之和.266a17da.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-不同路径.989b3730.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-丑数.57368f1c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-两个链表的第一个公共节点.1b744ae5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-两数之和.66b99459.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二分搜索树.474e6324.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二叉搜索树与双向链表.ba98a7a9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二叉搜索树的后序遍历序列.94b70cf6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二叉树中和为某一值的路径.73d7a1ce.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二叉树的下一个节点.cbcbb5a5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二叉树的深度.55d3f2ac.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二叉树的第k大节点.27e495f8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二叉树的镜像.c27a139d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二维数组中的查找.0c20b2b1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-二进制中1的个数.e64b6b14.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-介绍.704c00b7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-从DFS到DFT.b101d2e3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-从上到下打印二叉树.b1ea1603.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-从尾到头打印链表.b455ff63.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-优先队列和堆.14494b4d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-信号的相关.c5ad985b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-入门使用.ab6f3cae.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-全排列.72740a72.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-准备工作.8aacd1c0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-函数.5937ca31.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-列表.f24ff084.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-初识Vue.78e31071.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-删除有序数组中的重复项.f055694c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-删除链表的节点.2d39b78b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-刷题.12eb873f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-剪绳子.b6718563.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-动态数组.ac308c8c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-动画.2d816562.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-包含min函数的栈.bc81af25.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-匹配问题.463607ee.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-单例模式.4aaae085.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-单词搜索.06793aaf.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-反转链表.1a9a23b0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-合并K个升序链表.dfa0d65b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-合并两个排序的链表.ac0c9fbb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-合并区间.f2c344cd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-同源策略.051d524e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-和为s的数字.2e42288b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-哈密尔顿回路.6fa377c7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-哈希表.31b60038.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-回溯法.204e9084.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-图片.e080e64a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-图的广度优先遍历.ae0ea1aa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-图的深度优先遍历.a93db34a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-图的表示.0408b843.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-图论.ae8e9a3a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-图论建模.dfbb352c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-圆周卷积.745e6433.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-圆圈中最后剩下的数字.bac0c3ad.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-在排序数组中查找数字.f699ac93.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-在浏览器中调试CSS.c309ec5c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-基本类型.909cc38c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-堆排序.4e50326d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-声明合并.808e7a2f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-复杂链表的复制.1d51ccda.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-外观数列.9792bd4a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-多表查询.0c26a1e7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-字体样式.6ab3e3d6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-字母异位词分组.3e9e14c1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-字符串和正则表达式.e218dd98.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-字符串的排列.8205b955.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-小球会停下来吗.e4bd785c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-层叠与优先级.94ce8010.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-希尔排序.34512324.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-并查集.eca69727.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-序列化二叉树.f8da5d1b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-归并排序.b03eaf33.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-快速排序.01e6d6dc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-扑克牌中的顺子.b2556ea2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-打印从1到最大的n位数.3dfba6ea.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-扩展对象的功能性.843c7030.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-把数字翻译成字符串.97bfd053.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-把数组排成最小的数.30c2da36.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-接口.f23347cd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-插入排序.ff9e4cd0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-插槽.cc5342e4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-改进的数组功能.8aa7fa94.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数值的整数次方.06300305.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数字序列中某一位的数字.83dc65ed.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数据流中的中位数.b3ead4b8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数据结构.deaf615c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数组中出现次数超过一半的数字.6a77c38a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数组中数字出现的次数.9df62852.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数组中的逆序对.b2586a27.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-数组中的重复的数字.817f33b9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-文本标签.f1e84266.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-斐波那契数列.37f7fbde.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-方程与框图的转换.61647309.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-旋转数组的最小数字.808cfad6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-旋转链表.21ff464b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-最大子序和.d003feb8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-最大子数组和以及最长子字符串.309955b7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-最小生成树.c736a1cd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-最小的k个数.5ecb0fec.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-最小路径和.50b1c0ea.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-最短路径算法.da5dd758.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-最长回文字符串.774cf9cd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-有向图算法.efe95440.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-有限长序列的分类.591f9ae7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-权限管理.581a9fcb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-柯里化介绍.107ffde6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-栈.ecc94482.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-栈的压入弹出序列.80cbb8dc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-树的子结构.0760cdaf.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-桥和割点.943e29c3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-模板语法.0a485938.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-欧拉回路.39c229b9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-正则表达式的匹配.c8a1d662.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-泛型.5e81f1ee.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-生命周期.e3e634ca.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-用DFT计算线性卷积.37aef413.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-用两个栈实现队列.d06a11ab.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-用模块封装代码.27c876a4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-盒子模型.a8f657c4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-盛水最多的容器.b56a0843.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-礼物的最大价值.92a56af0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-第一个只出现一次的字符.a29cd7ea.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-简化路径.19e0fd6f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-算法.4acf703f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-类.2ccb35cb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-类型断言.254f3f61.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-红黑树.fac72ed9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-约束.0f4577b6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-线段树.84cda2dc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-组件.15f2f2ca.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-组合.9285a6d1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-组合总数.0d4e4fe8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-网络流与最大流.5ca7d02d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-罗马数字与数字的转换.cfde3199.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-翻转字符串.ad2df44c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-股票的最大利润.f8ae85f2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-表单(一).49b4655f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-表单(二).2b53a5f5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-表格.28df9bc8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-表示数值的字符串.ed1dd635.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-解构.84a33dfa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-计算属性与监听器.46b5fbc6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-语义化标签.1f75650e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-调整数组顺序使奇数位于偶数之前.5a334bf2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-超链接.1a0639ca.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-跳跃游戏.c82c6992.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-连续时间信号的抽样及其重建.50ac93f8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-迭代器与生成器.f57d577c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-选择器(一).37b5fda5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-选择器(二).df5ed0f2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-选择排序.9a6491df.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-重建二叉树.41f1973a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-链表.435a41fc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-链表中倒数第k个节点.1ae5741f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-链表中环的入口节点.6b31cfe9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-队列.7e442055.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-队列的最大值.dd48e6da.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-顺时针打印矩阵.b0ed7fed.js"><link rel="prefetch" href="/vuepress-blog/assets/js/page-高级类型.881612df.js"><link rel="prefetch" href="/vuepress-blog/assets/js/vendors~flowchart.d6f2e18f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/vendors~photo-swipe.06da50aa.js">
    <link rel="stylesheet" href="/vuepress-blog/assets/css/0.styles.8bd9bab4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><button class="sidebar-button"><span class="icon"></span></button> <a href="/vuepress-blog/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">Coder</span></a> <div class="links"><button class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><a href="#" class="default-theme"></a></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title"><i class="iconfont icon-alo"></i>
        数据结构与算法
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress-blog/数据结构/" class="nav-link"><i class="iconfont icon-data-structure"></i>
  数据结构
</a></li><li class="dropdown-item"><a href="/vuepress-blog/算法/" class="nav-link"><i class="iconfont icon-alo"></i>
  算法
</a></li><li class="dropdown-item"><a href="/vuepress-blog/刷题/" class="nav-link"><i class="iconfont icon-offer"></i>
  刷题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title"><i class="iconfont icon-front-end"></i>
        大前端
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress-blog/HTML/" class="nav-link"><i class="iconfont icon-html"></i>
  HTML
</a></li><li class="dropdown-item"><a href="/vuepress-blog/CSS/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><a href="/vuepress-blog/JavaScript/" class="nav-link"><i class="iconfont icon-Bomb"></i>
  JavaScript
</a></li><li class="dropdown-item"><a href="/vuepress-blog/TypeScript/" class="nav-link"><i class="iconfont icon-book"></i>
  TypeScript
</a></li><li class="dropdown-item"><a href="/vuepress-blog/ES6/" class="nav-link"><i class="iconfont icon-ES6"></i>
  ES6
</a></li><li class="dropdown-item"><a href="/vuepress-blog/Node/" class="nav-link"><i class="iconfont icon-Node"></i>
  Node
</a></li><li class="dropdown-item"><a href="/vuepress-blog/Webpack/" class="nav-link"><i class="iconfont icon-webpack"></i>
  Webpack
</a></li><li class="dropdown-item"><a href="/vuepress-blog/Vue/" class="nav-link router-link-active active"><i class="iconfont icon-Vue"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title"><i class="iconfont icon-Java"></i>
        Java
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress-blog/Java/JavaSE/" class="nav-link"><i class="iconfont icon-JavaSE"></i>
  JavaSE
</a></li><li class="dropdown-item"><a href="/vuepress-blog/Java/JavaEE/" class="nav-link"><i class="iconfont icon-Spring"></i>
  JavaEE
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title"><i class="iconfont icon-shujuku"></i>
        数据库
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress-blog/数据库/MySQL/" class="nav-link"><i class="iconfont icon-mysql"></i>
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="信号处理" class="dropdown-title"><span class="title"><i class="iconfont icon-signal"></i>
        信号处理
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress-blog/信号处理/数字信号处理/" class="nav-link"><i class="iconfont icon-matching"></i>
  数字信号处理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><span class="title"><i class="iconfont icon-shoucang"></i>
        收藏
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress-blog/收藏/文章.html" class="nav-link"><i class="iconfont icon-wenzhang"></i>
  文章
</a></li><li class="dropdown-item"><a href="/vuepress-blog/收藏/网站.html" class="nav-link"><i class="iconfont icon-website"></i>
  网站
</a></li><li class="dropdown-item"><a href="/vuepress-blog/收藏/视频.html" class="nav-link"><i class="iconfont icon-shipin"></i>
  视频
</a></li><li class="dropdown-item"><a href="/vuepress-blog/收藏/公众号.html" class="nav-link"><i class="iconfont icon-gongzhonghao"></i>
  公众号
</a></li><li class="dropdown-item"><a href="/vuepress-blog/收藏/书.html" class="nav-link"><i class="iconfont icon-shu"></i>
  书
</a></li><li class="dropdown-item"><a href="/vuepress-blog/收藏/电影.html" class="nav-link"><i class="iconfont icon-dianying"></i>
  电影
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/随笔/" class="nav-link"><i class="iconfont icon-suibi"></i>
  随笔
</a></div></nav> <!----> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <nav class="sidebar-nav-links"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  主页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title"><i class="iconfont icon-alo"></i>
      数据结构与算法
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/数据结构/" class="nav-link"><i class="iconfont icon-data-structure"></i>
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/算法/" class="nav-link"><i class="iconfont icon-alo"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/刷题/" class="nav-link"><i class="iconfont icon-offer"></i>
  刷题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title"><i class="iconfont icon-front-end"></i>
      大前端
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/HTML/" class="nav-link"><i class="iconfont icon-html"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/CSS/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/JavaScript/" class="nav-link"><i class="iconfont icon-Bomb"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/TypeScript/" class="nav-link"><i class="iconfont icon-book"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/ES6/" class="nav-link"><i class="iconfont icon-ES6"></i>
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/Node/" class="nav-link"><i class="iconfont icon-Node"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/Webpack/" class="nav-link"><i class="iconfont icon-webpack"></i>
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/Vue/" class="nav-link router-link-active active"><i class="iconfont icon-Vue"></i>
  Vue
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title"><i class="iconfont icon-Java"></i>
      Java
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/Java/JavaSE/" class="nav-link"><i class="iconfont icon-JavaSE"></i>
  JavaSE
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/Java/JavaEE/" class="nav-link"><i class="iconfont icon-Spring"></i>
  JavaEE
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title"><i class="iconfont icon-shujuku"></i>
      数据库
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/数据库/MySQL/" class="nav-link"><i class="iconfont icon-mysql"></i>
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="信号处理" class="dropdown-title"><span class="title"><i class="iconfont icon-signal"></i>
      信号处理
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/信号处理/数字信号处理/" class="nav-link"><i class="iconfont icon-matching"></i>
  数字信号处理
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><span class="title"><i class="iconfont icon-shoucang"></i>
      收藏
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/收藏/文章.html" class="nav-link"><i class="iconfont icon-wenzhang"></i>
  文章
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/收藏/网站.html" class="nav-link"><i class="iconfont icon-website"></i>
  网站
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/收藏/视频.html" class="nav-link"><i class="iconfont icon-shipin"></i>
  视频
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/收藏/公众号.html" class="nav-link"><i class="iconfont icon-gongzhonghao"></i>
  公众号
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/收藏/书.html" class="nav-link"><i class="iconfont icon-shu"></i>
  书
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/收藏/电影.html" class="nav-link"><i class="iconfont icon-dianying"></i>
  电影
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/随笔/" class="nav-link"><i class="iconfont icon-suibi"></i>
  随笔
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">Vue基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-blog/Vue/Vue%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%BC%80%E5%8F%91%E6%80%9D%E7%BB%B4%E7%9A%84%E6%94%B9%E5%8F%98/" class="sidebar-link">Vue带来的开发思维的改变</a></li><li><a href="/vuepress-blog/Vue/%E5%88%9D%E8%AF%86Vue/" class="sidebar-link">初识Vue</a></li><li><a href="/vuepress-blog/Vue/%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95/" class="sidebar-link">模板语法</a></li><li><a href="/vuepress-blog/Vue/%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%B8%8E%E7%9B%91%E5%90%AC%E5%99%A8/" class="sidebar-link">计算属性与监听器</a></li><li><a href="/vuepress-blog/Vue/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="sidebar-link">生命周期</a></li><li><a href="/vuepress-blog/Vue/%E7%BB%84%E4%BB%B6/" class="sidebar-link">组件</a></li><li><a href="/vuepress-blog/Vue/%E6%8F%92%E6%A7%BD/" class="sidebar-link">插槽</a></li><li><a href="/vuepress-blog/Vue/%E5%8A%A8%E7%94%BB/" class="sidebar-link">动画</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">Vue进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-blog/Vue/vue-cli%E7%9A%84%E4%BD%BF%E7%94%A8/" class="sidebar-link">vue-cli的使用</a></li><li><a href="/vuepress-blog/Vue/VueRouter/" class="sidebar-link">Vue Router</a></li><li><a href="/vuepress-blog/Vue/Vuex/" aria-current="page" class="active sidebar-link">Vuex</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#get-started" class="sidebar-link">Get Started</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#核心概念" class="sidebar-link">核心概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#getters" class="sidebar-link heading3">getters</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#actions" class="sidebar-link heading3">actions</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#modules" class="sidebar-link heading3">modules</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#映射方法" class="sidebar-link">映射方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#mapstate" class="sidebar-link heading3">mapState</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#mapgetters" class="sidebar-link heading3">mapGetters</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#mapmutations" class="sidebar-link heading3">mapMutations</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#mapactions" class="sidebar-link heading3">mapActions</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#插件" class="sidebar-link">插件</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/Vue/Vuex/#参考链接" class="sidebar-link">参考链接：</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/vuepress-blog/Vue/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">Vue目录</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/vuepress-blog/Vue/Vuex/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">Vuex</span></a> <meta property="position" content="2"></li></ol></nav>  <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Vuex</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">熊滔</span></span><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-04-05 </span></span><span role="navigation" aria-label="Category🌈" data-balloon-pos="down" class="category-info enable"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon category-icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zm-.854 446.486H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zm446.371-446.486h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zm136.293 813.51H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z" fill="currentColor"></path></svg> <span property="articleSection">Vue</span></span><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 11 min</span> <meta property="timeRequired" content="PT11M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#安装" class="anchor-link heading2"><div>安装</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#get-started" class="anchor-link heading2"><div>Get Started</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#核心概念" class="anchor-link heading2"><div>核心概念</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#getters" class="anchor-link heading3"><div>getters</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#actions" class="anchor-link heading3"><div>actions</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#modules" class="anchor-link heading3"><div>modules</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#映射方法" class="anchor-link heading2"><div>映射方法</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#mapstate" class="anchor-link heading3"><div>mapState</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#mapgetters" class="anchor-link heading3"><div>mapGetters</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#mapmutations" class="anchor-link heading3"><div>mapMutations</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#mapactions" class="anchor-link heading3"><div>mapActions</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#插件" class="anchor-link heading2"><div>插件</div></a></li><li class="anchor"><a href="/vuepress-blog/Vue/Vuex/#参考链接" class="anchor-link heading2"><div>参考链接：</div></a></li></ul></div></aside></div> <div class="theme-default-content content__default"><p>以前我们数据的获取一般都是通过父组件向子组件数据，或者通过向子组件注册自定义事件，使得子组件向父组件传递数据。如果组件的层级比较深，组件数据的传递跨越多个层级，那么无论是从父组件传递数据到子组件，还是从子组件传递数据到父组件，都会写出难看的代码。</p> <p>Vuex 提供了全局管理数据能力，它集中管理所有需要被共享的数据，无论组件在什么层级，都可以直接向 <code>Vuex</code> 获取数据。</p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <p>对于 <code>script</code> 标签引入</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/vuex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>对于 <code>npm</code> 项目</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> vuex --save
</code></pre></div><p>对于 <code>vue-cli</code> 项目</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vue <span class="token function">add</span> vuex
</code></pre></div><blockquote><p>可以通过 <code>vue ui</code> 通过 GUI 界面创建一个带 <code>Vuex</code> 预设的项目。</p></blockquote> <h2 id="get-started"><a href="#get-started" class="header-anchor">#</a> Get Started</h2> <p>首先通过 <code>vue-cli</code> 创建一个 <code>Vue</code> 项目，命令行或 GUI 的方式都是可以的，接着添加 <code>vuex</code> 插件，添加 <code>vuex</code> 插件的时候会在 <code>src</code> 目录下新建 <code>store</code> 文件夹，其中有一个 <code>index.js</code> 文件，我们首先忽略好了，全部删除，只留下 <code>App.vue</code> 以及 <code>main.js</code>。</p> <p>每一个 <code>Vuex</code> 就是一个数据仓库(store)，它保存着应用中大部分的状态，它有两个特点：</p> <ul><li><code>store</code> 中的数据也是响应式的，当 <code>store</code> 中的数据发生变化时，依赖于该数据的视图也会相应的更新</li> <li>不能直接修改 <code>store</code> 中的状态，必须通过显示的提交一个请求，让 <code>Vuex</code> 处理请求变更数据，这样做可以记录状态的变化，便于调试</li></ul> <p>我们通过 <code>new Vuex.Store</code> 来创建一个 <code>store</code>，该方法接收一个对象，包括以下属性：</p> <ul><li><code>state</code></li> <li><code>actions</code></li> <li><code>mutations</code></li> <li><code>getters</code></li> <li><code>modules</code></li></ul> <p>本小节刚开始接触 <code>Vuex</code>，只使用 <code>state</code> 与 <code>mutations</code> 两个属性，其中</p> <ul><li><code>state</code>：保存着所有的数据(状态)</li> <li><code>mutations</code>：定义更改数据的方法</li></ul> <p>新建 <code>store/index.js</code>，内容如下</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre></div><p>我们定义的 <code>store</code> 有一个数据 <code>count</code>，我们定义了一个修改状态的方法 <code>increment</code>，它可以对 <code>count</code> 递增，最后我们将这个 <code>store</code> 导出。我们在 <code>main.js</code> 中引入这个 <code>store</code>，并且在创建 <code>Vue</code> 实例时传入该 <code>store</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  store<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><p>这样 <code>Vue</code> 便会将这个 <code>store</code> 注入到所有的组件中，所有的组件都可以通过 <code>$store</code> 这个计算属性访问到它。通过  <code>$store.state</code> 可以访问到 <code>store</code> 定义的数据。<code>App.vue</code> 的内容如下</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>此时页面如下</p> <img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210405205801.png" alt="image-20210405205801675" style="zoom:50%;"> <p>我们能够访问 <code>store</code> 中的数据了，接着我们看如何修改页面的数据，最简单的方法就是直接通过 <code>$store.state</code> 进行修改。我们为按钮添加点击事件</p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210405210448.gif" alt="1" style="zoom:50%;"> <p>修改成功了，但是我们在上面提及过，我们不能直接修改状态，因为直接修改状态我们无法记录状态的变化，导致我们调试时无法知道状态是如何变化的，如果我们要更改状态的话，需要发起一个请求让 <code>Vuex</code> 帮我们修改数据，发起请求的方法便是 <code>store.commit</code>，该方法接收两个参数：</p> <ul><li><code>type</code>：发起的请求的类型</li> <li><code>payload</code>：需要传递的参数</li></ul> <p>其中 <code>type</code> 便是我们在 <code>mutations</code> 中定义的方法名，所以我们可以通过下面的方式修改状态</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this.$store.state.count++</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210405211824.gif" alt="2" style="zoom:50%;"> <p>通过 <code>vue-devtools</code>，我们可以观察到每一次数据变化的记录，并且我们可以回到之前任意的一个状态(时空旅行)，这会为我们调试程序带来巨大的方便。</p> <p>上面的 <code>increment</code> 方法并不需要额外的参数，所以我们没有传递 <code>payload</code>，为了演示此属性的作用，我们在 <code>mutations</code> 中新增一个方法 <code>incrementBy</code>，它可以增加指定大小的值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">incrementBy</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count <span class="token operator">+=</span> payload<span class="token punctuation">.</span>count
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>接着我们在 <code>App.vue</code> 中新增一个按钮，表示增加一个指定的值</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>incrementByTen<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我们希望当点击第二个按钮时将 <code>count +10</code>，我们便来实现 <code>incrementByTen</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">incrementByTen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'incrementBy'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>注意到此时我们为 <code>commit</code> 传递第二个参数 <code>payload</code>，它会被传递给 <code>mutations</code> 中的  <code>incrementBy</code> 方法，<code>incrementBy</code> 会据此修改数据</p> <img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210405213405.gif" alt="4" style="zoom:50%;"> <blockquote><p>我们可以启用严格模式，当用户视图直接修改状态时，将会在控制台给出警告。启动严格模式的方法如下</p> <div class="language-javascript extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-javascript"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 state<span class="token operator">:</span> <span class="token punctuation">{</span>
     count<span class="token operator">:</span> <span class="token number">0</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         state<span class="token punctuation">.</span>count<span class="token operator">++</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 strict<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210405212412.gif" alt="3" style="zoom:50%;"> <p>开启严格模式后，当我们直接修改数据时，控制台将会给出警告，当然并不能阻止你修改数据。</p></blockquote> <h2 id="核心概念"><a href="#核心概念" class="header-anchor">#</a> 核心概念</h2> <p>上面我们仔细介绍了 <code>state</code> 与 <code>mutations</code> 这两个重要的概念，接下来便深入了解深入了解其他重要的概念。</p> <h3 id="getters"><a href="#getters" class="header-anchor">#</a> getters</h3> <p>有的时候我们需要获得 <code>store</code> 中数据的派生属性，例如加入有如下 <code>store</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        todos<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            content<span class="token operator">:</span> <span class="token string">'Run'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            content<span class="token operator">:</span> <span class="token string">'Read'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>我们可能会在很多的组件中需要访问 <code>todos</code> 中有哪些元素 <code>done</code> 为 <code>true</code>，所以我们会在组件中添加计算属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">doneTodos</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>但是我们需要在每个用到的地方都添加这个属性，代码重复了。<code>Vuex</code> 允许我们在 <code>store</code> 中定义 <code>getter</code>(相当于 <code>store</code> 中的计算属性)</p> <div class="language-javascript extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-javascript"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        todos<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            content<span class="token operator">:</span> <span class="token string">'Run'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            content<span class="token operator">:</span> <span class="token string">'Read'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    getters<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">doneTodos</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>接着我们便可以在组件中通过 <code>$getters.doneTodos</code> 获得此属性了。</p> <blockquote><p><code>getter</code> 也可以接收其他 <code>getter</code> 作为第二个 <code>getter</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">doneTodos</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">doneTodoCounts</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> getters<span class="token punctuation">.</span>doneTodos<span class="token punctuation">.</span>length
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></blockquote> <h3 id="actions"><a href="#actions" class="header-anchor">#</a> actions</h3> <p>我们要求 <code>mutations</code> 中的方法都是同步的(为什么? 官网解释了，但是我没有理解)，但是如果我们需要异步的改变数据时，就不得不借助于 <code>actions</code>。以计数器案例为例，我们希望点击 <code>+1</code> 按钮后过 <code>1s</code> 进行增加，我们定义如下 <code>store</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">setLoadingFalse</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">setLoadingTrue</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">incrementAsync</span><span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setLoadingTrue'</span><span class="token punctuation">)</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
                store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setLoadingFalse'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    strict<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>在 <code>store</code> 中定义了两个状态，<code>loading</code> 表示正在加载中，<code>count</code> 表示计数器的值；在 <code>mutations</code> 定义了两个修改数据的方法；在 <code>actions</code> 中定义了异步修改数据的方法，该方法首先设置 <code>loading</code> 为 <code>true</code>，表示数据正在加载，经过 <code>1s</code> 后，将 <code>loading</code> 设置为 <code>false</code>，并发出信号增加 <code>count</code>。</p> <p><code>App.vue</code> 的内容如下</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$store.state.loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Loading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我们希望当点击按钮时，触发 <code>actions</code> 中定义的 <code>incrementAsync</code> 这个 <code>action</code>，触发 <code>actions</code> 需要通过 <code>store.dispatch</code> 这个方法，该方法也同样接收两个参数：</p> <ul><li><code>type</code></li> <li><code>payload</code></li></ul> <p>具体意义同 <code>commit</code>，修改 <code>App.vue</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'incrementAsync'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210405221552.gif" alt="1" style="zoom:50%;"> <p>至此给出 <code>Vuex</code> 的工作的过程，想必大家可以很容易的看懂了</p> <img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210406135133.png" border="none" alt="vuex-gigapixel-scale-2_00x" style="zoom:50%;"> <h3 id="modules"><a href="#modules" class="header-anchor">#</a> modules</h3> <p>因为所有的状态都保存在 <code>store</code>，当项目规模较大时，势必会使得 <code>store</code> 中的状态见得十分臃肿。<code>Vuex</code> 允许我们将 <code>stotr</code> 划分为多个模块，每个模块可以拥有自己的 <code>state</code>、<code>mutation</code>、<code>action</code>、<code>getter</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    modules<span class="token operator">:</span> <span class="token punctuation">{</span>
        a<span class="token operator">:</span> moduleA<span class="token punctuation">,</span>
        b<span class="token operator">:</span> moduleB
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>我们定义了两个 <code>module</code>，在每个 <code>module</code> 里面都定义了一个变量 <code>count</code>，并定义了一个 <code>mutation</code>，用以对 <code>count</code> 递增。现如今可以通过 <code>store.state.moduleName</code> 来访问模块其中的状态，<code>App.vue</code> 中的内容如下</p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.a.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.b.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'inc'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>当我们点击按钮时，我们会发现所有的 <code>mutation</code> 都被触发了</p> <img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210406104459.gif" alt="1" style="zoom:50%;"> <p>对于 <code>actions</code> 也是一样，也会触发所有符合条件的 <code>actions</code>。因为模块中的 <code>action</code> 与 <code>mutation</code> 都是注册在全局命名空间的，如果希望模块具有更高的封装性，可以为模块添加 <code>namespaced: true</code> 属性，模块中的 <code>action</code> 与 <code>mutation</code> 会被注册到 <code>moduleName/</code> 下，因此我们可以通过 <code>commit('moduleName/inc')</code> 来触发模块下的 <code>mutation</code></p> <div class="language-javascript extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
    namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token punctuation">{</span>
    namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>修改 <code>App.vue</code></p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.a.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$store.state.b.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>全局 count +1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inca<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>模块a count +1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>incb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>模块b count +1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'inc'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">inca</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'a/inc'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">incb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'b/inc'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><img src="https://cdn.jsdelivr.net/gh/LastKnightCoder/ImgHosting2/20210406111051.gif" alt="2" style="zoom:50%;"> <blockquote><p>使用了命名空间之后，在 <code>action</code> 接收到的 <code>dispatch</code> 与 <code>commit</code> 均是局部化的，换句话说，在 <code>action</code> 中 <code>dispatch</code> 其他 <code>action</code> 或者 <code>commit</code> 一个 <code>mutation</code> 不需要添加模块前缀</p> <div class="language-javascript extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-javascript"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
 namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
 state<span class="token operator">:</span> <span class="token punctuation">{</span>
     count<span class="token operator">:</span> <span class="token number">0</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         state<span class="token punctuation">.</span>count<span class="token operator">++</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 actions<span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function">incAsync</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>state<span class="token punctuation">,</span> commit<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
             <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'inc'</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; commit('moduleName/inc')</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在 <code>getter</code> 中接收到的 <code>getters</code> 也是局部的，我们也不需要添加模块前缀来访问模块内的 <code>getter</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">doneTodoCounts</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> getters<span class="token punctuation">[</span><span class="token string">'doneTods'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token comment">// =&gt; getters['moduleName/doneTodos'] </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></blockquote> <p>有的时候我们需要在模块中访问全局的<code>state</code> 与 <code>getter</code> ，可以通过如下方式访问：</p> <ul><li><code>mutation</code>：第三个参数可以接收到全局状态 <code>rootState</code></li> <li><code>getter</code>：第三个参数可以获得 <code>rootState</code>，第四个参数可以获得 <code>rootGetters</code></li> <li><code>action</code>：可以直接通过 <code>store.rootState</code> 与 <code>store.rootGetters</code> 获得全局 <code>state</code> 与 <code>getters</code></li></ul> <h2 id="映射方法"><a href="#映射方法" class="header-anchor">#</a> 映射方法</h2> <p>我们在组件中访问 <code>store</code> 中的数据时，需要通过 <code>this.$store.state.xxx</code> 访问数据或者 <code>this.$store.commit(type)</code> 更改数据，每次都需要写一大串。现在 <code>Vuex</code> 为我们提供了映射方法，让我们少敲几下键盘。</p> <h3 id="mapstate"><a href="#mapstate" class="header-anchor">#</a> mapState</h3> <p><code>mapState</code> 可以将 <code>store</code> 中的状态映射为组件的计算属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'count'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// this.$store.state.count =&gt; this.count</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>mapState</code> 返回的是一个对象，因此需要通过展开运算符 <code>...</code> 将其展开到 <code>computed</code> 中，接着我们便可以通过 <code>this.count</code> 访问到 <code>store</code> 中的 <code>count</code> 了。</p> <p>通过 <code>mapState</code> 还可以将模块映射到计算属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// this.$store.state.user =&gt; this.user</span>
<span class="token punctuation">}</span>
</code></pre></div><p>从而可以通过 <code>this.user.xxx</code> 访问到模块 <code>user</code> 中的数据。如果希望将模块中具体的数据映射到组件的计算属性，那么你可以这么写</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'user/username'</span><span class="token punctuation">,</span> <span class="token string">'user/age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// =&gt; this.username, this.age</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们便可以通过 <code>this.username</code> 与 <code>this.age</code> 访问到模块 <code>user</code> 中的数据了。上面我们还有一个简便写法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>maoState</code> 方法还可以接收一个对象来定义映射关系</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>     <span class="token comment">// this.$store.state.count =&gt; this.count</span>
  <span class="token function-variable function">acount</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a<span class="token punctuation">.</span>count<span class="token punctuation">,</span>  <span class="token comment">// this.$store.state.a.count =&gt; this.acount</span>
  <span class="token function-variable function">bcount</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>b<span class="token punctuation">.</span>count   <span class="token comment">// this.$store.state.b.count =&gt; this.bcount</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="mapgetters"><a href="#mapgetters" class="header-anchor">#</a> mapGetters</h3> <p><code>mapGetter</code> 的使用同 <code>mapState</code>，可以将 <code>getter</code> 映射到计算属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'doneTodos'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// this.$store.getters.doneTodos =&gt; this.doneTodos</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果你想为计算属性取别名，可以传入一个对象</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dones<span class="token operator">:</span> <span class="token string">'doneTodos'</span> <span class="token comment">// this.$store.getters.doneTodos =&gt; this.dones</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="mapmutations"><a href="#mapmutations" class="header-anchor">#</a> mapMutations</h3> <p><code>mapMutations</code> 可以将 <code>this.$store.commit(type)</code> 映射到组件的方法上</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    inc<span class="token operator">:</span> <span class="token string">'inc'</span><span class="token punctuation">,</span>    <span class="token comment">// this.$store.commit('inc') =&gt; this.inc</span>
    inca<span class="token operator">:</span> <span class="token string">'a/inc'</span><span class="token punctuation">,</span> <span class="token comment">// this.$store.commit('a/inc') =&gt; this.inca</span>
    incb<span class="token operator">:</span> <span class="token string">'b/inc'</span>  <span class="token comment">// this.$store.commit('b.inc') =&gt; this.incb</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="mapactions"><a href="#mapactions" class="header-anchor">#</a> mapActions</h3> <p><code>mapActions</code> 可以将 <code>this.$store.dispatch(type)</code> 映射到组件的方法上</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  incAsync<span class="token operator">:</span> <span class="token string">'incAsync'</span> <span class="token comment">// this.$store.dispatch('incAsync') =&gt; this.incAsync</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h2> <p>我们创建 <code>store</code> 时，还可以传入一个 <code>plugins</code> 选项，使得我们可以为 <code>Vuex</code> 添加插件。<code>Vuex</code> 插件就是一个函数，它接收 <code>store</code> 作为唯一的参数，<code>plugins</code> 为我们暴露出每次 <code>mutation</code> 的钩子</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">persist</span> <span class="token operator">=</span> <span class="token parameter">store</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// store 初始化后调用</span>
    store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mtation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 每次 mutation 后调用</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们写一个简单的插件，来持久化 <code>store</code>，每次重新启动项目时从 <code>localStorage</code> 中读取数据，每次状态变更时将数据存入到 <code>localStorage</code> 中</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">persist</span> <span class="token operator">=</span> <span class="token parameter">store</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// store 初始化后调用</span>
    <span class="token keyword">const</span> state <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'state'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        store<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mtation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 每次 mutation 后调用</span>
        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'state'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在创建 <code>store</code> 传入该插件</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    getters<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    modules<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>persist<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接：</h2> <ul><li><a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer">Vuex官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <!----></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">May 31, 2021 08:45</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/vuepress-blog/Vue/VueRouter/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        Vue Router
      </a></span> <!----></p></div> <!----> </main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><div class="my-popup" style="display:none;" data-v-5f98aac3><div class="my-popup-container" data-v-5f98aac3><div class="my-popup-exit" data-v-5f98aac3></div> <img src="" alt data-v-5f98aac3></div></div></div></div>
    <script src="/vuepress-blog/assets/js/app.71139a4d.js" defer></script><script src="/vuepress-blog/assets/js/layout-Layout.738d33c5.js" defer></script><script src="/vuepress-blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.4f33077f.js" defer></script><script src="/vuepress-blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.3a32e6fa.js" defer></script><script src="/vuepress-blog/assets/js/vendors~layout-Blog~layout-Layout.6d699834.js" defer></script><script src="/vuepress-blog/assets/js/page-Vuex.fa491068.js" defer></script>
  </body>
</html>
