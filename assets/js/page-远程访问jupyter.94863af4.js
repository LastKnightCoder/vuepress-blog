(window.webpackJsonp=window.webpackJsonp||[]).push([[258],{1130:function(a,t,s){"use strict";s.r(t);var e=s(1),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("最近又开始折腾了 "),s("code",[a._v("jupyter")]),a._v(" 了，因为实验室的网络环境太差，每次我使用 "),s("code",[a._v("conda")]),a._v(" 开启一个新的环境，然后下载一些新的包时会非常的慢，慢我还能忍，问题是经常下载失败，浪费我的时间😭，接着我想到我有一台腾讯云的服务器，我就想在服务器上下载 "),s("code",[a._v("jupyter")]),a._v("，然后远程访问。")]),a._v(" "),s("h2",{attrs:{id:"下载-miniconda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载-miniconda"}},[a._v("#")]),a._v(" 下载 Miniconda")]),a._v(" "),s("p",[a._v("首先需要下载 "),s("code",[a._v("Miniconda")]),a._v("，我没有下载 "),s("code",[a._v("Anaconda")]),a._v("，因为我不需要那么多的包，按需下载即可")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh\n")])])]),s("blockquote",[s("p",[a._v("如果没有 "),s("code",[a._v("wget")]),a._v(" 命令，可以通过 "),s("code",[a._v("yum -y install wget")]),a._v(" 进行下载。")])]),a._v(" "),s("p",[a._v("这里下载了一个 "),s("code",[a._v("shell")]),a._v(" 脚本，运行该脚本即可自动完成 "),s("code",[a._v("Miniconda")]),a._v(" 的下载")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x Miniconda3-latest-Linux-x86_64.sh "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加可执行权限")]),a._v("\n./Miniconda3-latest-Linux-x86_64.sh        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 执行脚本")]),a._v("\n")])])]),s("p",[a._v("在下载的期间会问一些问题，回答 "),s("code",[a._v("yes")]),a._v(" 即可。")]),a._v(" "),s("p",[a._v("安装完毕之后，"),s("strong",[a._v("重新")]),a._v("进入命令行，输入")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda -V\n")])])]),s("p",[a._v("如果正确输出了版本号就说明下载成功了。")]),a._v(" "),s("h2",{attrs:{id:"下载-jupyter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载-jupyter"}},[a._v("#")]),a._v(" 下载 jupyter")]),a._v(" "),s("p",[a._v("下面我们新建一个环境，环境名就叫做 "),s("code",[a._v("jupyter")]),a._v(" 好了")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda create -n jupyter\n")])])]),s("p",[a._v("然后激活环境")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda activate jupyter\n")])])]),s("p",[a._v("接着下载 "),s("code",[a._v("jupyter")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" jupyter\n")])])]),s("h2",{attrs:{id:"配置密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置密码"}},[a._v("#")]),a._v(" 配置密码")]),a._v(" "),s("p",[a._v("我们要远程访问 "),s("code",[a._v("jupyter")]),a._v("，就需要配置密码来进行登录，在命令行输入 "),s("code",[a._v("ipython")]),a._v(" (下载 "),s("code",[a._v("jupyter")]),a._v(" 的时候就已经下载好了 "),s("code",[a._v("ipython")]),a._v(") 便可以进入一个 "),s("code",[a._v("python")]),a._v(" 交互式 "),s("code",[a._v("shell")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ipython\n")])])]),s("p",[a._v("依次输入下面的命令")]),a._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" notebook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("auth "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" passwd\npasswd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("接着便会提示你输入密码，输入密码后会给你一个密文字符串，如")]),a._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'sha1:43b95b731276:5d330ee6f6054613b3ab4cc59c5048ff7c70f549'")]),a._v("\n")])])]),s("p",[a._v("这个密文字符串在 "),s("code",[a._v("jupyter")]),a._v(" 的配置文件中会用到，先保存/复制下来。")]),a._v(" "),s("h2",{attrs:{id:"jupyter-配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jupyter-配置文件"}},[a._v("#")]),a._v(" jupyter 配置文件")]),a._v(" "),s("p",[a._v("接着我们便要配置 "),s("code",[a._v("jupyter")]),a._v(" 的配置文件，在命令行运行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("jupyter notebook --generate-config\n")])])]),s("p",[a._v("会生成 "),s("code",[a._v("~/.jupyter/jupyter_notebook_config.py")]),a._v(" 这个文件，我们打开编辑")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" ~/.jupyter/jupyter_notebook_config.py\n")])])]),s("p",[a._v("在其中添加如下配置")]),a._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[a._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("NotebookApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ip"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'*'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#设置远程访问 jupyter 的ip，*表示所有 ip 都可以访问")]),a._v("\nc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("NotebookApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("allow_remote_access "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("True")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 允许远程访问")]),a._v("\nc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("NotebookApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("password "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'sha1:5df252f58b7f:bf65d53125bb36c085162b3780377f66d73972d1'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#填写刚刚生成的密文  ")]),a._v("\nc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("NotebookApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("open_browser "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("False")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 禁止notebook启动时自动打开浏览器(在 linux 服务器一般都是 ssh 命令行访问，没有图形界面的。所以，启动也没啥用)  ")]),a._v("\nc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("NotebookApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8888")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定访问的端口，默认是8888")]),a._v("\n")])])]),s("h2",{attrs:{id:"启动-jupyter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-jupyter"}},[a._v("#")]),a._v(" 启动 jupyter")]),a._v(" "),s("p",[a._v("下面我们就可以在命令行输入如下命令启动 "),s("code",[a._v("jupyter")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("jupyter notebook --allow-root\n")])])]),s("p",[a._v("这个命令启动后会在前台运行，如果我们希望 "),s("code",[a._v("jupyter")]),a._v(" 在后台运行，我们可以运行下面的命令")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("nohup")]),a._v(" jupyter notebook --allow-root "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" jupyter.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("2")]),a._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("&1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])])]),s("p",[a._v("因为我们便可以在本机通过服务器的公网 "),s("code",[a._v("ip:8888")]),a._v(" 的方式来访问该 "),s("code",[a._v("jupyter notebook")]),a._v("。")]),a._v(" "),s("blockquote",[s("p",[a._v("PS：如果你想在服务器停止  "),s("code",[a._v("juputer")]),a._v("，首先运行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n")])])]),s("p",[a._v("该命令可以显示正在运行的进程，我们找到 "),s("code",[a._v("jupyter")]),a._v(" 进程的 "),s("code",[a._v("pid")]),a._v("，然后通过")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" -9 pid\n")])])]),s("p",[a._v("来杀死 "),s("code",[a._v("jupyter")]),a._v(" 服务，即可停止 "),s("code",[a._v("jupyter")]),a._v("。")])]),a._v(" "),s("h2",{attrs:{id:"参考链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[a._v("#")]),a._v(" 参考链接")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/47ed480daccc",target:"_blank",rel:"noopener noreferrer"}},[a._v("linux 中安装miniconda"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://fuhailin.github.io/remote-jupyter-notebook/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Linux上配置Jupyter Notebook远程访问"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/weixin_42561002/article/details/85382922",target:"_blank",rel:"noopener noreferrer"}},[a._v("云服务器中让jupyter后台运行的方法(三)"),s("OutboundLink")],1)])]),a._v(" "),s("Disqus")],1)}),[],!1,null,null,null);t.default=n.exports}}]);